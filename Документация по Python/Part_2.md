# Вызов переводчика

Интерпретатор Python обычно устанавливается как ```/usr/local/bin/python3.9``` на тех машинах, где он доступен; включение ```/usr/local/bin``` в путь поиска вашей оболочки Unix позволяет запустить его, набрав команду:

```
python3.9
```

в оболочку. На Unix интерпретатор Python 3.x по умолчанию не устанавливается вместе с исполняемым файлом с именем python, чтобы он не конфликтовал с одновременно установленным исполняемым файлом Python 2.x. Поскольку выбор каталога, в котором живет интерпретатор, является опцией установки, возможны и другие места; уточните это у местного гуру Python или системного администратора. (Например, ```/usr/local/python``` является популярным альтернативным местом).

На машинах Windows, где вы установили Python из Microsoft Store, будет доступна команда ```python3.9```. Если у вас установлена программа запуска py.exe, вы можете использовать команду ```py```. Другие способы запуска Python описаны в разделе Экскурс: Настройка переменных среды.

Ввод символа конца файла (```Control-D``` в Unix, ```Control-Z``` в Windows) в первичном приглашении вызывает выход интерпретатора с нулевым статусом выхода. Если это не сработало, вы можете выйти из интерпретатора, набрав следующую команду: ```quit()```.

Возможности интерпретатора по редактированию строк включают интерактивное редактирование, подстановку истории и завершение кода на системах, поддерживающих библиотеку GNU Readline. Возможно, самой быстрой проверкой того, поддерживается ли редактирование командной строки, является ввод ```Control-P``` в первом появившемся приглашении Python. Если он подаст звуковой сигнал, значит, редактирование командной строки поддерживается; знакомство с клавишами см. в Приложении Интерактивное редактирование ввода и подстановка истории. Если ничего не происходит или эхом повторяется ```^P```, то редактирование командной строки недоступно; вы сможете использовать Backspace только для удаления символов из текущей строки.

Интерпретатор работает подобно оболочке Unix: при вызове со стандартным вводом, подключенным к устройству tty, он читает и выполняет команды в интерактивном режиме; при вызове с аргументом имени файла или с файлом в качестве стандартного ввода, он читает и выполняет сценарий из этого файла.

Второй способ запуска интерпретатора - ```python -c command [arg] ...```, который выполняет оператор(ы) в команде, аналогично опции ```-c``` оболочки. Поскольку утверждения Python часто содержат пробелы или другие символы, которые являются специальными для оболочки, обычно рекомендуется заключать команду полностью в одинарные кавычки.

Некоторые модули Python также полезны в качестве сценариев. Их можно вызвать с помощью команды ```python -m module [arg] ...```, которая выполняет исходный файл модуля так, как если бы вы ввели его полное имя в командной строке.

Когда используется файл сценария, иногда полезно иметь возможность запустить сценарий и после этого перейти в интерактивный режим. Это можно сделать, передав ```-i``` перед сценарием.

Все параметры командной строки описаны в разделе Командная строка и окружение.

## Передача аргументов

Когда имя сценария и дополнительные аргументы становятся известны интерпретатору, они превращаются в список строк и присваиваются переменной ```argv``` в модуле ```sys```. Вы можете получить доступ к этому списку, выполнив команду ```import sys```. Длина списка должна быть не меньше единицы; если сценарий и аргументы не указаны, ```sys.argv[0]``` - пустая строка. Если имя сценария задано как ```'-'``` (имеется в виду стандартный ввод), ```sys.argv[0]``` устанавливается в ```'-'```. Когда используется команда ```-c```, ```sys.argv[0]``` устанавливается в ```'-c'```. При использовании команды ```-m``` module, ```sys.argv[0]``` устанавливается в полное имя расположенного модуля. Параметры, найденные после команды ```-c``` или модуля ```-m```, не обрабатываются интерпретатором Python, а остаются в ```sys.argv``` для обработки командой или модулем.

## Интерактивный режим

Когда команды считываются с tty, считается, что интерпретатор находится в интерактивном режиме. В этом режиме он запрашивает следующую команду с помощью первичной подсказки, обычно трех знаков "больше-чем" (```>>>```); для продолжения строк он запрашивает вторичную подсказку, по умолчанию три точки (```...```). Перед выводом первой подсказки интерпретатор печатает приветственное сообщение с номером версии и уведомлением об авторских правах:

```
$ python3.9
Python 3.9 (default, June 4 2019, 09:25:04)
[GCC 4.8.2] on linux
Type "help", "copyright", "credits" or "license" for more information.
>>>
```

Линии продолжения необходимы при вводе многострочной конструкции. В качестве примера посмотрите на оператор ```if```:

```
>>> the_world_is_flat = True
>>> if the_world_is_flat:
...     print("Будьте осторожны, чтобы не упасть!")
...
Будьте осторожны, чтобы не упасть!
```

Подробнее об интерактивном режиме см. в разделе Интерактивный режим.

# Интерпретатор и его окружение

## Кодирование исходного кода

По умолчанию исходные файлы Python рассматриваются как закодированные в UTF-8. В этой кодировке символы большинства языков мира могут одновременно использоваться в строковых литералах, идентификаторах и комментариях - хотя в стандартной библиотеке для идентификаторов используются только символы ASCII, и это соглашение, которому должен следовать любой переносимый код. Чтобы правильно отобразить все эти символы, ваш редактор должен распознать, что файл имеет кодировку UTF-8, и использовать шрифт, поддерживающий все символы в файле.

Чтобы объявить кодировку, отличную от кодировки по умолчанию, необходимо добавить специальную строку комментария в качестве первой строки файла. Синтаксис выглядит следующим образом:

```
# -*- coding: encoding -*-
```

где encoding - один из допустимых кодеков, поддерживаемых Python.

Например, чтобы объявить, что будет использоваться кодировка Windows-1252, первая строка вашего файла исходного кода должна быть:

```
# -*- coding: cp1252 -*-
```

Исключением из правила первой строки является случай, когда исходный код начинается со строки UNIX "shebang". В этом случае объявление кодировки должно быть добавлено во вторую строку файла. Например:

```
#!/usr/bin/env python3
# -*- coding: cp1252 -*-
```
